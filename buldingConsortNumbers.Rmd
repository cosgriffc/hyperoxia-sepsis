---
title: "Consort"
output: html_notebook
---

```{r}
getSubjectCount <- function(cohort) {
  cohort <- cohort %>%
}
```


```{r}
initialCohort.df <- dbGetQuery(mimic, 
                        "SELECT * FROM mimiciii.hyperoxia_sepsis_initial")

length(initialCohort.df$subject_id)
head(initialCohort.df)
```


```{r}
initialCohort.df <- initialCohort.df %>% distinct(initialCohort.df$subject_id, .keep_all = TRUE)
```

```{r}
length(initialCohort.df$subject_id)
head(initialCohort.df)
```



```{r}
steps <- initialCohort.df %>% filter(exclusion_age == 0)
length(initialCohort.df$subject_id) - length(steps$subject_id)
```

```{r}
steps2 <- steps %>% filter(exclusion_los == 0)
length(steps$subject_id) - length(steps2$subject_id)
```

```{r}
steps3 <- steps2 %>% filter(exclusion_no_vent == 0)
length(steps2$subject_id) - length(steps3$subject_id)
```

```{r}
steps4 <- steps3 %>% filter(icustay_expire_flag == 0)
length(steps3$subject_id) - length(steps4$subject_id)
```

